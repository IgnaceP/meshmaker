SetFactory("OpenCASCADE");
//+
//+
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//+ Points
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Point(1) = {643807.342888, 9730796.690853, 0};
Point(2) = {644168.622164, 9731180.796685, 0};
Point(3) = {644813.674801, 9731769.671521, 0};
Point(4) = {644917.162902, 9732154.025680, 0};
Point(5) = {644814.585890, 9732717.989622, 0};
Point(6) = {645175.649445, 9732871.424560, 0};
Point(7) = {645949.141711, 9732973.200727, 0};
Point(8) = {647521.515512, 9732766.630281, 0};
Point(9) = {648500.776703, 9732381.211800, 0};
Point(10) = {649170.929882, 9732252.397173, 0};
Point(11) = {650278.653587, 9731431.112681, 0};
Point(12) = {651153.726557, 9729994.907757, 0};
Point(13) = {651153.571003, 9729841.122831, 0};
Point(14) = {650404.483451, 9728380.924508, 0};
Point(15) = {649527.828447, 9728228.025112, 0};
Point(16) = {648677.239531, 9728357.032218, 0};
Point(17) = {648058.383965, 9728203.866864, 0};
Point(18) = {647903.351129, 9727845.193735, 0};
Point(19) = {645095.501092, 9728307.710816, 0};
Point(20) = {644232.106207, 9728353.440829, 0};
Point(21) = {644040.953038, 9728415.820243, 0};
Point(22) = {643798.923866, 9728746.286272, 0};
Point(23) = {643961.106244, 9729848.226950, 0};
//+
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//+ Lines & Splines
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Line(1) = {1, 2};
Line(2) = {2,3};
Spline(3) = {3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 1};
//+
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//+ Holes Points
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Point(24) = {644372.206558, 9730599.436985, 0};
Point(25) = {644827.297715, 9731106.597659, 0};
Point(26) = {645184.496979, 9731634.713417, 0};
Point(27) = {645317.690435, 9731954.442792, 0};
Point(28) = {645059.048674, 9732093.760761, 0};
Point(29) = {644988.781142, 9731753.110492, 0};
Point(30) = {644869.750525, 9731614.156669, 0};
Point(31) = {644246.625001, 9730919.414788, 0};
Point(32) = {645931.576147, 9730326.741479, 0};
Point(33) = {646379.150876, 9730291.537066, 0};
Point(34) = {646582.518125, 9730847.615447, 0};
Point(35) = {647183.989219, 9730840.072791, 0};
Point(36) = {647331.100948, 9731083.300354, 0};
Point(37) = {646512.809815, 9731084.101419, 0};
Point(38) = {646268.042670, 9731105.200546, 0};
Point(39) = {646135.009129, 9730952.354089, 0};
Point(40) = {645966.830239, 9730618.752114, 0};
//+
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//+ Holes Splines
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Spline(4) = {24,25,26,27,28,29,30,31,24};
Spline(5) = {32,33,34,35,36,37,38,39,40,32};
//+
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//+ Boundaries
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Physical Line("TidalEntrance") = {1,2};
Physical Line("closed") = {3};
Physical Line("closedInner") = {4,5};
//+
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//+ A Priori Resolution
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Mesh.LcIntegrationPrecision = 1e-3;
Mesh.CharacteristicLengthExtendFromBoundary = 0;
//+
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//+ Create Line Loop and Surface
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Line Loop(1) = {1, 2, 3};
Plane Surface(1) = {1};
Physical Surface("inside") = {1};
//+
//+ Inner loops and surfaces
//+
Line Loop(2) = {4};
Plane Surface(2) = {2};
BooleanDifference(3) = { Surface{1}; Delete; }{ Surface{2}; Delete;};
Line Loop(3) = {5};
Plane Surface(4) = {3};
BooleanDifference(5) = { Surface{3}; Delete; }{ Surface{4}; Delete;};
Physical Surface("domain") = {5};
//+
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//+ Set Homogeneous Mesh
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
//+
Field[1] = MathEval;
Field[1].F = "250.000000";
Background Field = 1;